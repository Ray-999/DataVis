// arr = [1,3,3,4,4,5,5,6,7,7,12,2,3,3,4,4,5,5,6,6,6,7,8,8,9];
// arr.splice(-4,4);
// console.log(arr);

var arr = [ { time: '2019-08-06T00:41:33Z',
    mean: -180438.0382352941,
    mean_1: -116823.13764705884,
    mean_2: 136921.17705882352 },
    { time: '2019-08-06T00:41:34Z',
        mean: -179915.99840000004,
        mean_1: -116805.06739999999,
        mean_2: 136893.0668 },
    { time: '2019-08-06T00:41:35Z',
        mean: -179915.99840000004,
        mean_1: -116532.0002,
        mean_2: 137097.8674 },
    { time: '2019-08-06T00:41:36Z',
        mean: -179233.33040000004,
        mean_1: -116566.1336,
        mean_2: 137097.867 },
    { time: '2019-08-06T00:41:37Z',
        mean: -180052.5316,
        mean_1: -117044.00020000001,
        mean_2: 137132.0004 },
    { time: '2019-08-06T00:41:38Z',
        mean: -179881.86480000004,
        mean_1: -116566.1336,
        mean_2: 136858.9338 },
    { time: '2019-08-06T00:41:39Z',
        mean: -179711.19760000004,
        mean_1: -117112.2672,
        mean_2: 137268.53379999998 },
    { time: '2019-08-06T00:41:40Z',
        mean: -179779.46440000006,
        mean_1: -116497.8668,
        mean_2: 137166.13379999998 },
    { time: '2019-08-06T00:41:41Z',
        mean: -179574.66400000002,
        mean_1: -117180.5338,
        mean_2: 137200.26739999998 },
    { time: '2019-08-06T00:41:42Z',
        mean: -179233.33000000005,
        mean_1: -116975.73359999999,
        mean_2: 136927.2002 },
    { time: '2019-08-06T00:41:43Z',
        mean: -179301.59720000002,
        mean_1: -116668.53399999999,
        mean_2: 137166.13379999998 },
    { time: '2019-08-06T00:41:44Z',
        mean: -179301.59720000002,
        mean_1: -116770.9334,
        mean_2: 137132.0006 },
    { time: '2019-08-06T00:41:45Z',
        mean: -179642.93120000005,
        mean_1: -116805.06719999999,
        mean_2: 136927.2004 },
    { time: '2019-08-06T00:41:46Z',
        mean: -179711.1976,
        mean_1: -116463.73300000001,
        mean_2: 137166.134 },
    { time: '2019-08-06T00:41:47Z',
        mean: -179915.99800000005,
        mean_1: -116873.33399999999,
        mean_2: 137336.8006 },
    { time: '2019-08-06T00:41:48Z',
        mean: -180257.332,
        mean_1: -116463.73359999999,
        mean_2: 137234.40079999997 },
    { time: '2019-08-06T00:41:49Z',
        mean: -180086.66520000005,
        mean_1: -116736.80059999999,
        mean_2: 136824.8002 },
    { time: '2019-08-06T00:41:50Z',
        mean: -179813.598,
        mean_1: -116702.66719999998,
        mean_2: 136893.0672 },
    { time: '2019-08-06T00:41:51Z',
        mean: -179950.13160000005,
        mean_1: -116600.26699999999,
        mean_2: 136858.9334 },
    { time: '2019-08-06T00:41:52Z',
        mean: -179540.5308,
        mean_1: -116975.7338,
        mean_2: 137063.7338 },
    { time: '2019-08-06T00:41:53Z',
        mean: -180154.93200000003,
        mean_1: -116702.6666,
        mean_2: 136620.0002 },
    { time: '2019-08-06T00:41:54Z',
        mean: -180052.53160000005,
        mean_1: -117385.3336,
        mean_2: 137097.86719999998 },
    { time: '2019-08-06T00:41:55Z',
        mean: -179642.93080000003,
        mean_1: -116566.1336,
        mean_2: 136927.2004 },
    { time: '2019-08-06T00:41:56Z',
        mean: -179608.79800000004,
        mean_1: -116805.06719999999,
        mean_2: 137166.134 },
    { time: '2019-08-06T00:41:57Z',
        mean: -179915.99800000002,
        mean_1: -116634.40039999998,
        mean_2: 136858.9338 },
    { time: '2019-08-06T00:41:58Z',
        mean: -180189.06520000004,
        mean_1: -116975.73359999999,
        mean_2: 136995.4674 },
    { time: '2019-08-06T00:41:59Z',
        mean: -179860.27000000002,
        mean_1: -117204.21775510204,
        mean_2: 137142.44918367345 },
    { time: '2019-08-06T00:42:00Z',
        mean: -179847.73120000004,
        mean_1: -116668.53379999999,
        mean_2: 136790.667 },
    { time: '2019-08-06T00:42:01Z',
        mean: -179847.7312,
        mean_1: -116941.6002,
        mean_2: 136927.2006 },
    { time: '2019-08-06T00:42:02Z',
        mean: -180120.79840000003,
        mean_1: -117180.53419999998,
        mean_2: 136995.467 },
    { time: '2019-08-06T00:42:03Z',
        mean: -179677.0644,
        mean_1: -117009.867,
        mean_2: 137336.801 },
    { time: '2019-08-06T00:42:04Z',
        mean: -179847.73120000004,
        mean_1: -117453.6002,
        mean_2: 137166.134 },
    { time: '2019-08-06T00:42:05Z',
        mean: -179745.33120000002,
        mean_1: -117044.00039999999,
        mean_2: 137063.7336 },
    { time: '2019-08-06T00:42:06Z',
        mean: -179779.46480000005,
        mean_1: -116702.66699999999,
        mean_2: 136756.5336 },
    { time: '2019-08-06T00:42:07Z',
        mean: -179574.66400000002,
        mean_1: -116907.46720000001,
        mean_2: 137302.66739999998 },
    { time: '2019-08-06T00:42:08Z',
        mean: -179881.86480000004,
        mean_1: -116770.9334,
        mean_2: 137063.73419999998 },
    { time: '2019-08-06T00:42:09Z',
        mean: -179984.2648,
        mean_1: -116873.3336,
        mean_2: 137063.734 },
    { time: '2019-08-06T00:42:10Z',
        mean: -179779.46440000003,
        mean_1: -116975.73359999999,
        mean_2: 137029.6004 },
    { time: '2019-08-06T00:42:11Z',
        mean: -180018.3984,
        mean_1: -117146.4006,
        mean_2: 137097.8674 },
    { time: '2019-08-06T00:42:12Z',
        mean: -180018.3984,
        mean_1: -116975.7334,
        mean_2: 136995.46719999998 },
    { time: '2019-08-06T00:42:13Z',
        mean: -179711.19800000003,
        mean_1: -117146.4006,
        mean_2: 137029.6008 },
    { time: '2019-08-06T00:42:14Z',
        mean: -179540.5308,
        mean_1: -116770.93359999999,
        mean_2: 137166.13439999998 },
    { time: '2019-08-06T00:42:15Z',
        mean: -179574.66400000002,
        mean_1: -116805.067,
        mean_2: 137200.26779999997 },
    { time: '2019-08-06T00:42:16Z',
        mean: -179984.2648,
        mean_1: -117146.4,
        mean_2: 137063.73419999998 },
    { time: '2019-08-06T00:42:17Z',
        mean: -179915.99800000005,
        mean_1: -116873.3338,
        mean_2: 137097.867 },
    { time: '2019-08-06T00:42:18Z',
        mean: -179608.79760000002,
        mean_1: -116839.20039999999,
        mean_2: 137370.9342 },
    { time: '2019-08-06T00:42:19Z',
        mean: -179472.26400000002,
        mean_1: -116907.46739999998,
        mean_2: 137200.267 },
    { time: '2019-08-06T00:42:20Z',
        mean: -179335.7312,
        mean_1: -116941.60079999999,
        mean_2: 137268.5344 },
    { time: '2019-08-06T00:42:21Z',
        mean: -179301.5976,
        mean_1: -117044.00059999998,
        mean_2: 137302.6668 },
    { time: '2019-08-06T00:42:22Z',
        mean: -179642.93120000002,
        mean_1: -116975.73379999999,
        mean_2: 137132.0006 },
    { time: '2019-08-06T00:42:23Z',
        mean: -179745.33160000003,
        mean_1: -116907.46699999999,
        mean_2: 137302.66739999998 },
    { time: '2019-08-06T00:42:24Z',
        mean: -179096.79720000006,
        mean_1: -116736.8004,
        mean_2: 137097.867 },
    { time: '2019-08-06T00:42:25Z',
        mean: -179301.59720000002,
        mean_1: -116907.46719999998,
        mean_2: 136961.33399999997 },
    { time: '2019-08-06T00:42:26Z',
        mean: -179233.33000000005,
        mean_1: -117112.2672,
        mean_2: 137200.26739999998 },
    { time: '2019-08-06T00:42:27Z',
        mean: -179915.99800000005,
        mean_1: -116634.4006,
        mean_2: 136654.1334 },
    { time: '2019-08-06T00:42:28Z',
        mean: -179369.86400000003,
        mean_1: -117009.867,
        mean_2: 137097.86719999998 },
    { time: '2019-08-06T00:42:29Z',
        mean: -179472.26400000002,
        mean_1: -116839.20059999998,
        mean_2: 136858.9336 },
    { time: '2019-08-06T00:42:30Z',
        mean: -179847.73120000004,
        mean_1: -117146.40079999999,
        mean_2: 136893.0672 },
    { time: '2019-08-06T00:42:31Z',
        mean: -179267.46400000007,
        mean_1: -116805.067,
        mean_2: 137234.4004 },
    { time: '2019-08-06T00:42:32Z',
        mean: -179335.73080000002,
        mean_1: -117078.13399999999,
        mean_2: 137132.0004 },
    { time: '2019-08-06T00:42:33Z',
        mean: -179369.86400000003,
        mean_1: -116975.73379999999,
        mean_2: 137166.1342 },
    { time: '2019-08-06T00:42:34Z',
        mean: -179677.06440000006,
        mean_1: -117044.00039999999,
        mean_2: 137336.80039999998 },
    { time: '2019-08-06T00:42:35Z',
        mean: -179540.5308,
        mean_1: -116907.46719999998,
        mean_2: 136995.46719999998 },
    { time: '2019-08-06T00:42:36Z',
        mean: -179438.13040000002,
        mean_1: -116941.60079999999,
        mean_2: 137097.86719999998 },
    { time: '2019-08-06T00:42:37Z',
        mean: -179711.198,
        mean_1: -116907.46719999998,
        mean_2: 137473.3346 },
    { time: '2019-08-06T00:42:38Z',
        mean: -180154.93200000003,
        mean_1: -117078.13339999999,
        mean_2: 136961.33399999997 }];
// const reducer = (accumulator, currentValue) => accumulator + currentValue;
//
// ww = arr.reduce(reducer);
// console.log(ww);
// function avg(arr) {
//     average = Object
//         .values(arr)
//         .reduce((avg, { values }, _, { length }) => avg + values / length, 0);
    // var arr = result.slice(Math.max(result.length - len, 1));

// var x_arr = [];
// var y_arr = [];
// var z_arr = [];
//
// function conver(arr) {
//     arr.forEach(function(el,i) {
//         x_arr[i] = [el.time, el.mean];
//         y_arr[i] = [el.time, el.mean_1];
//         z_arr[i] = [el.time, el.mean_2];
//         }
//     );
// }
// conver(arr);
// console.log(x_arr);

var xa,ya,za;

function avg(res,len){
    var arr = res.slice(Math.max(res.length - len, 1));
    xa = ya = za = 0;
    for(var i = 0; i<arr.length; i++){
        xa += arr[i].mean;
        ya += arr[i].mean_1;
        za += arr[i].mean_2
    }
    xa = xa/len;
    ya = ya/len;
    za = za/len;
}
avg(arr,5);
console.log(xa);
console.log(ya);

// }
// console.log(arr[0].mean);
// function avg(res,len){
//     var arr = res.slice(Math.max(res.length - len, 1));
//     var sum = 0;
//     for(var i = 0; i<arr.length; i++){
//         sum = sum + arr[i].mean
//     }
//     var average = sum/len;
//     return average
// }
// console.log(avg(arr,5));
//
// function convertToArr(json) {
//
//
// }
//
// function converter(result){
//     var trares = [];
//     for(var i=0; i<result.length;i++){
//         if(result[i].mean!=){
//             trares[i].[0]=result[i].time._nanoISO;
//         }
//     }
//     return trares
// }